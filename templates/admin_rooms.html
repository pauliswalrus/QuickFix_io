<html lang=en>
<head>
    <meta charset=utf-8>

    <title> Admin Portal </title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" media="screen">

    <script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>

    <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
</head>

<body>
{% extends "navbar_admin.html" %}
{% block content %}
    <div id="main-content">

        <div class="sectionTitle">Active Rooms </div>


        {% for room in blog_posts %}

            <div id="roomSection{{ room.id }}" class="panel panel-default">

                <div class="panel-heading">
                    <h3 class="panel-title">
                            <span id="memberNumber">
                                <a href="{{ url_for('room', room_id=room.id) }}">Room {{ room.id }} : {{ room.room_title }}</a>
                            </span>
                    </h3>
                </div>

                <div class="panel-body">
                    <div class="form-inline">

                        <div class="row">

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="emailInput{{ room.id }}">Room Name: </label>
                                    <br>
                                    <input type="text" class="form-control" id="titleInput{{ room.id }}"
                                           value="{{ room.room_title }}">
                                </div>

                                <br>

                                <div class="form-group">
                                    <label for="contentInput{{ room.id }}">Content: </label>
                                    <br>
                                    <textarea rows="4" cols="55" class="form-control"
                                              id="contentInput{{ room.id }}">{{ room.content }}</textarea><br>
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <p><span class="subHeading">Author: </span>
                                    <a href="{{ url_for('pub_profile', username=room.author) }}"> {{ room.author|upper }}</a>
                                </p>

                                <p><span class="subHeading">Public: </span>
                                    {{ room.visible }}</p>
{##}
{#                                 <p><span class="subHeading">Course Name: </span>#}
{#                                    {{ room.room_course }}</p>#}
{##}
{#                                  <p><span class="subHeading">Course Code: </span>#}
{#                                    {{ room.room_code }}</p>#}

                                <p><span class="subHeading">Date: </span>
                                    {{ room.date_posted.strftime('%Y-%m-%d') }}</p>


                                       <p><span class="subHeading">Course Name: </span>
                                    {{ room.room_course }}</p>

                                  <p><span class="subHeading">Course Code: </span>
                                    {{ room.room_code }}</p>
                            </div>

                            <div class="col-sm-2">
                                <a href="{{ url_for('chat_log', room_id=room.id) }}">
                                    <button class="btn btn-primary viewButton" room_id="{{ room.id }}">View Logs
                                    </button>
                                </a><br><br>

                                <a href="#">
                                    <button class="btn btn-danger deleteLogs" room_id="{{ room.id }}">Clear Logs
                                    </button>
                                </a><br><br>


                                <a href="#">
                                    <button class="btn btn-warning deleteRoomComments" room_id="{{ room.id }}">Clear Post
                                    </button>
                                </a><br><br>

                                <a href="#">
                                    <button class="btn btn-danger deleteRoomUploads" room_id="{{ room.id }}">Clear
                                        Files
                                    </button>
                                </a>


                            </div>

                        </div><!-- end class row -->

                        <br><br>

                        <div class="row">
                            <div class="col-sm-6">
                                <button class="btn btn-primary updateButton" room_id="{{ room.id }}">Update</button>
                                <button class="btn btn-danger deleteButton" room_id="{{ room.id }}">Delete</button>
                                <button id="privateButton{{ room.id }}" class="btn btn-warning privateButtonAdmin" room_id="{{ room.id }}">Private</button>
                                <button id="publicButton{{ room.id }}" class="btn btn-success publicButtonAdmin" room_id="{{ room.id }}">Public</button>
                            </div>
                            <div class="col-sm-3">

                            </div>
                            <div class="col-sm-3">

                            </div>
                        </div>


                    </div> <!-- end div class form-inline -->
                </div> <!-- end div class panel-body -->
            </div> <!-- end div id roomSection -->

        {% endfor %}

    </div>


{% endblock %}

{##}
{#<script>#}
{#    window.onload=function () {#}
{##}
{#        var roomVisible = '{{ roomVisible }}';#}
{##}
{#        if (roomVisible === "True") {#}
{##}
{#            document.getElementById('privateButton'+{{ room.id }}).style.display = "block";#}
{##}
{#        } else if (roomVisible === "False") {#}
{##}
{#            document.getElementById('publicButton'+{{ room.id }}).style.display = "block";#}
{#        }#}
{##}
{##}
{#    }#}
{#</script>#}
</body>
</html>


{#                            <b>Name:</b> {{ user.firstname }} {{ user.lastname }} <br>#}
{#                            <b>Username:</b> {{ user.username }} <br>#}
{#                            <b>Email:</b> {{ user.email }}<br>#}
{#                            <b>Role:</b> {{ user.role }}<br>#}
{##}
{#                            <button class="btn btn-warning editUser" id="editUser" user_id="{{ user.id }}">Edit</button>#}
{#                            <button class="btn btn-danger deleteUser" user_id="{{ user.id }}">Delete</button>#}


{#                              <label for="userRole{{ user.id }}">Role: </label><br>#}
{#                              <input type="text" class="form-control" id="userRole" value="{{ user.role }}"><br>#}
{#                              <label for="userEmail{{ user.id }}">Email: </label><br>#}
{#                              <input type="text" class="form-control" id="userEmail" value="{{ user.email }}"><br>#}

{#                            <div id="upload">#}
{##}
{#                                <span class="closeWindow" onclick="testClose()">&times;</span><br>#}
{#                                <form method="post" enctype="multipart/form-data">#}
{#                                    {{ file_form.hidden_tag() }}#}
{#                                    {{ file_form.file }}#}
{#                                    <button id="file_upload" type=submit class="btn btn-info" title="Submit">Add New File</button>#}
{#                                    {{ file_form.csrf_token }}#}
{#                                </form>#}
{##}
{#                            </div>#}








                        {#                            <b>Author:</b>#}
                        {#                            <a href="{{ url_for('pub_profile', username=room.author) }}"> {{ room.author|upper }}</a>#}
                        {##}
                        {#                            <br>#}
                        {##}
                        {#                            <b>Public:</b> {{ room.visible }}#}
                        {##}
                        {#                            <br>#}
                        {##}
                        {#                            <b>Date:</b> {{ room.date_posted.strftime('%Y-%m-%d') }}#}
                        {##}
                        {#                            <br>#}
                        {##}
                        {#                            <a href="{{ url_for('chat_log', room_id=room.id) }}">#}
                        {#                                <button class="btn btn-primary viewButton" room_id="{{ room.id }}">View Logs</button>#}
                        {#                            </a>#}
                        {##}
                        {#                            <a href="#">#}
                        {#                                <button class="btn btn-danger deleteLogs" room_id="{{ room.id }}">Clear Logs</button>#}
                        {#                            </a>#}
                        {##}
                        {#                            <a href="#">#}
                        {#                                <button class="btn btn-danger deleteRoomUploads" room_id="{{ room.id }}">Clear Files</button>#}
                        {#                            </a>#}
                        {##}
                        {#                            <br>#}
                        {##}
                        {#                            <div class="form-group">#}
                        {#                                <label for="emailInput{{ room.id }}">Room Name: </label>#}
                        {#                                <br>#}
                        {#                                <input type="text" class="form-control" id="titleInput{{ room.id }}" value="{{ room.room_title }}">#}
                        {#                            </div>#}
                        {##}
                        {#                            <div class="form-group">#}
                        {#                                <label for="nameInput{{ room.id }}">Title: </label>#}
                        {#                                <br>#}
                        {#                                <input type="text" class="form-control" id="nameInput{{ room.id }}" value="{{ room.title }}">#}
                        {#                            </div>#}
                        {##}
                        {#                            <br>#}
                        {##}
                        {#                            <div class="form-group">#}
                        {#                                <label for="contentInput{{ room.id }}">Content: </label>#}
                        {#                                <br>#}
                        {#                                <textarea rows="4" cols="55" class="form-control" id="contentInput{{ room.id }}">{{ room.content }}</textarea><br>#}
                        {#                            </div>#}
