<!-- HTML Template By: Emma Hobden -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile Page</title>

    <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/pub_profile.css')}}">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>

{#    <script type="text/javascript">#}
{#    document.addEventListener('DOMContentLoaded', () => {#}
{#        var online_status = {{ status }}#}
{##}
{#       if (online_status==1) {#}
{##}
{#           document.querySelector('#online_stat').innerHTML = "Online"#}
{##}
{#       }#}
{#       else {#}
{##}
{#           document.querySelector('#online_stat').innerHTML = "Offline"#}
{#       }#}
{##}
{##}
{#       document.querySelector('changeStatus').onclick = () => {#}
{##}
{#       }#}
{#    })#}
{#    </script>#}
<body>

{% extends "navbar.html" %}
{% block content %}
{#    <div class="navbar">#}
{#        <a class="logo" a href="#">Home</a>#}
{#        <a href="{{ url_for('profile') }}">{{ thisUser }}</a>#}
{#        <a href="#">Forums</a>#}
{#        <a href="{{ url_for('chat') }}" >Chat</a>#}
{#        <a href="{{ url_for('all_users') }}">Users</a>#}
{#        <a href="{{ url_for('logout') }}"> Logout </a>#}
{#    </div>#}

    <div class="row">
    <div class="column left">

        <div>

            <img src="{{ url_for('uploaded_file', filename=user_object.user_photo) }}" height="250px" width="250px"
                 class="profilePic"/>

            <br>

            <div id="mUsername">{{ username }}</div>

            <hr>

            <div id="mFirstLast">{{ firstname }} {{ lastname }}</div>

            <div id="mRole">Role: {{ role_name }}</div>

            <div id="mEmail">Email: {{ email }}</div>

            <div id="mCredits">Credits: 0</div>

            <hr>


        </div>


    </div>

    <div class="column middle">

        <div class="cardContainer">

            <div id="aboutMe">
                <p class="subheading">About Me</p>
                <p>
                    {{ about_me }}
                </p>
            </div>


            <div id="myCourses">
                <p class="subheading">{{ username }}'s Courses</p>
                <p>• Lorem ipsum dolor sit amet, consectetur adipiscing elit<br>
                    • Nullam non ex quis massa cursus dictum eu eget leo. <br>
                    • Pellentesque nulla eratpellentesque ut tortor vel <br>
                    • malesuada vulputate tellus. Vivamus <br>
                    • laoreet vestibulum velit, at venenatis mauris mollis
                </p>
            </div>

        </div>

    </div>

    <div class="column right">

        <div class="cardContainer">

            <div id="studentPublic">
            <p class="subheading">{{ username }}'s Posts</p>

            {% for room in student_posts %}
                <div id="linkType"> <a href="{{ url_for('studentpost', studentpost_id=room.id) }}">
                    <h5>[{{ room.type|upper }}] {{ room.title }} - {{ room.date_posted.strftime('%B %d, %Y') }}</h5>
                </a></div>
            {% endfor %}

            </div>

             <div id="tutorPublic">
            <p class="subheading">{{ username }}'s Rooms</p>

            {% for room in posts %}
                <div id="linkType"> <a href="{{ url_for('room', room_id=room.id) }}">
                    <h5>[{{ room.type|upper }}] {{ room.title }} - {{ room.date_posted.strftime('%B %d, %Y') }}</h5>
                </a></div>
            {% endfor %}

            </div>



            <div id="userUploads">
                <p class="subheading">My Uploads</p>

                {% for file in user_files %}
                    <a href="{{ url_for('download', dl_name=file.file_name) }}">
                        <h5>{{ file.file_name }} </h5>
                    </a>
                {% endfor %}
            </div><!-- End User Uploads Div -->

        </div>

    </div>

</div>



{#    <div id="userInfo_bg">#}
{#        <div id="userInfo">#}
{#            <h1>{{ firstname }} {{ lastname }}'s Profile:</h1>#}
{##}
{#            <h2>Username: {{ username }}</h2>#}
{#            <h2>Email: {{ email }}</h2>#}
{##}
{#            <div id="online_stat"> </div>#}
{#            <h3>Status: {{ status_string }} </h3>#}
{##}
{#            <h3>Role : {{ role_name }}</h3>#}
{#            <div id="profilePic"></div>#}
{##}
{#              {% for room in blog_posts %}#}
{#                    <a href="{{ url_for('room', post_id=room.id) }}">#}
{#                        <h5>{{ room.type|upper }} : {{ room.title }} - {{ room.subtitle }}</h5>#}
{#                        By {{ room.author }} on {{ room.date_posted.strftime('%B %d, %Y') }} </a>#}
{##}
{#            {% endfor %}#}
{##}
{#        </div>#}
{#    </div>#}

    <script>
    let uRole = '{{ role_name }}';

        window.onload = function (event) {

                document.getElementById('tutorPublic').style.display = "none";
                document.getElementById('studentPublic').style.display = "none";

            if (uRole == 'Student') {
                document.getElementById('tutorPublic').style.display = "none";
                document.getElementById('studentPublic').style.display = "block";

            } else if (uRole == 'Tutor') {
                document.getElementById('tutorPublic').style.display = "block";
                document.getElementById('studentPublic').style.display = "none";

            } else if (uRole == 'Admin') {
                document.getElementById('tutorPublic').style.display = "none";
                document.getElementById('studentPublic').style.display = "none";
            }

        }
</script>

{% endblock %}

</body>
</html>
